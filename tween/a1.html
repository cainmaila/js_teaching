<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>TweenMax - PIXI</title>
    <style>
        * {
            padding: 0;
            margin: 0
        }
        
        body {
            background-color: #000000;
        }
    </style>
</head>

<body>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pixi.js/4.3.5/pixi.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/latest/TweenMax.min.js"></script>
    <script>
        var renderer = PIXI.autoDetectRenderer(window.innerWidth, window.innerHeight, {
            antialias: false,
            transparent: true,
            resolution: 1
        });

        document.body.appendChild(renderer.view);

        var stage = new PIXI.Container();
        var tilingSprite;
        var mc, mc2
        //載入
        PIXI.loader
            .add("./images/mc.png")
            .load(setup);

        function setup() {
            //取得素材
            var texture = PIXI.Texture.fromImage('./images/mc.png');
            //建立物件
            mc = new PIXI.Sprite(texture);
            mc.anchor.set(0.5)
            mc.scale.x *= -1
            mc.x = 200;
            mc.y = 200;

            mc2 = new PIXI.Sprite(texture);
            mc2.anchor.set(0.5)
            mc2.x = 500;
            mc2.y = 400;

            //新增到stage
            stage.addChild(mc);
            // stage.addChild(mc2);
            animation();

            // TweenMax.to(mc, 1, {
            //     x: 900,
            //     // repeat: -1,
            //     // yoyo: true,
            //     // ease: Circ.easeOut,
            //     onComplete: function () {
            //         console.log('onComplete')
            //     },
            //     onStart: function () {
            //         console.log('onStart')
            //     },
            //     onUpdate: function () {
            //         console.log('onUpdate')
            //     },
            // })

            // TweenMax.to(mc2, 1, {
            //     y: 600,
            //     // repeat: -1,
            //     // yoyo: true,
            //     // ease: Circ.easeOut,
            //     // delay: 0.5
            // })

            var tl = new TimelineMax({ repeat: -1, yoyo: true })
            tl.add(TweenMax.to(mc, 1, { x: 500 }))
            tl.add(TweenMax.to(mc, 1, { y: 500 }))
            tl.add(TweenMax.to(mc, 1, { alpha: 0 }))
            // // tl.pause()
            // mc.interactive = true
            // mc.on('click', function () {
            //     // tl.play()
            //     // tl.seek(1.5)
            //     tl.reverse()
            // })
            // play()
            // function play() {
            //     let toX = Math.random() * 700 + 100
            //     if (mc.x > toX) {
            //         mc.scale.x *= -1
            //     }
            //     TweenMax.to(mc, 2, {
            //         x: toX,
            //         ease: Sine.easeInOut,
            //         onComplete: function () {
            //             play()
            //         },
            //     })
            // }

            // TweenMax.to(mc, 2, {
            //     x: 800,
            //     repeat: -1,
            //     yoyo: true,
            //     ease: Sine.easeInOut,
            //     onRepeat: function () {
            //         mc.scale.x *= -1
            //     },
            // })
            // TweenMax.to(mc, 2, {
            //     delay: 1,
            //     y: 700,
            //     repeat: -1,
            //     yoyo: true,
            //     ease: Sine.easeInOut,
            // })
        }

        //全螢幕設置
        renderer.view.style.position = "absolute"; //canvas css position:absolute
        renderer.view.style.display = "block"; //canvas css display:block
        renderer.autoResize = true; //canvas Resize自動重算
        window.onresize = function () { //觸發onresize
            renderer.resize(window.innerWidth, window.innerHeight); //canvas resize
            renderer.render(stage);
        }

        //動畫
        function animation() {
            //移動底圖
            renderer.render(stage);
            requestAnimationFrame(animation);
        }
    </script>
</body>

</html>